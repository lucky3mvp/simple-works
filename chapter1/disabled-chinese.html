<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>关闭用户中文输入法</title>
  <link rel="stylesheet" type="text/css" href="../css/home.css">
  <link rel="stylesheet" type="text/css" href="../css/c1.css">
  <script src="../js/jquery-1.9.1.min.js"></script>
</head>
<body>
  <a class="back-home" href="../index.html"><span>a</span></a>
  <div class="demo1">
    <form id="form" role="form">
      <div class="form-group">
        <label for="user" class="control-label">用户名</label>
        <div>
          <input type="text" data-ime="1" id="user" placeholder="用户名" imeMode="disabled">
        </div>
      </div>
      <div class="form-group">
        <label for="password" class="control-label">密码</label>
        <div >
          <input type="password" id="password" placeholder="密码">
        </div>
      </div>
      <div class="form-group">
        <div >
          <button id="btn" type="button" class="btn">提 交</button>
        </div>
      </div>
    </form>
  </div>

<script>
//    (function(){
//        var form = document.getElementById('form');
//        var input = form.getElementsByTagName('input');
//        for(var i = 0; i < input.length; i++){
//            input[i].onfocus = function(){
//                if(this.getAttribute('data-ime')){
//                    cancel(this);
//                }
//            };
//            if(input[i].style.imeMode == undefined){
//                input[i].onkeyup = input[i].onblur = function(){
//                    clear(this);
//                }
//            }
//        }
//        function cancel(o){
//            o.style.imeMode = 'disabled';
//        }
//        function clear(o){
//            o.value = o.value.replace(/[\u4e00-\u9fa5]/g, '');
//        }
//    })();
  (function(){
    var form = document.getElementById('form');
    var input = form.getElementsByTagName('input');
    for(var i = 0; i < input.length; i++){
      if(input[i].style.imeMode == undefined){
        input[i].onkeyup = input[i].onblur = input[i].onafterpaste = function(){
          clear(this);
        }
      }
    }

    function clear(o){
      o.value = o.value.replace(/[\u4e00-\u9fa5]/g, '');
    }
  })();
</script>
</body>
</html>
